{% extends '../base.html' %}

{% block title%} User Management {% endblock title%}

{% block content %}
    <h1>User Management</h1>
    
    <div class='container'>
        <div class="float-end">
            <a class="btn btn-primary" role="button" href="{% url 'donation:user_create' %}">
                <i class="fas fa-user-plus"></i>
                <span>Add User</span>
            </a>
        </div>
        <table class='table table-striped'>
            <thead class='table-dark'>
                <tr>
                    <th>First name</th>
                    <th>Last name</th> 
                    <th>Email</th>
                    <th>Role</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            {% if user_list %}
                {% for user in user_list %}
                    <tr>
                        <td> {{ user.first_name }} </td>
                        <td> {{ user.last_name }} </td>
                        <td> {{ user.email }} </td>
                        <td> {% if user.is_admin %}Admin{% else %} User {% endif %} </td>
                        <td><a href="{% url 'donation:user_update' pk=user.id %}"> edit </a></td> 
                        <td><a href="{% url 'donation:user_delete' pk=user.id %}"> delete </a></td> 
                    </tr>
                {% endfor %}
            {% else %}
                <p> No users available.</p>
            {% endif %}
            </tbody>
        </table>
    </div>
    
{% endblock content %}
